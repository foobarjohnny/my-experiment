function MovieSearchCriteria(c,f,e,i,k){this.addressString=c;this.dateIndex=f;this.distanceUnit=e;this.batchNumber=i;this.startIndex=k}function onClickTheaterList(){if(isTheaterTabOn())CommonUtil.debug("already on threater tab, return and do nothing");else{setMovieTabStatus("THEATER");cleanPaginationInfo();cleanList();onChangeMovieTab();refreshData()}}
function onClickMovieList(){if(isTheaterTabOn()){setMovieTabStatus("MOVIE");cleanPaginationInfo();cleanList();onChangeMovieTab();refreshData()}else CommonUtil.debug("already on Movie tab, return and do nothing")}
function onChangeMovieTab(){if(isTheaterTabOn()){document.getElementById("showTheatersButton").style.display="";document.getElementById("showMoviesButton").style.display="none"}else{document.getElementById("showTheatersButton").style.display="none";document.getElementById("showMoviesButton").style.display=""}}function datePickerOnDateChange(){setSearchDate(GLOBAL_searchDate);refreshData()}
function refreshData(){CommonUtil.debug("refreshData()");PopupUtil.showLoading();if(""==CommonUtil.getValidString(getSearchLocation())){CommonUtil.debug("--before get GPS--");SDKAPI.getCurrentLocation(getGPSBackForMovie);CommonUtil.debug("--after get GPS--")}else processMovieAction()}function processMovieAction(){SDKAPI.getPreference(afterGetDistnaceUnit,PreferenceConstants.DISUNIT)}
function cleanPaginationInfo(){GLOBAL_currentPageNo=0;GLOBAL_isLoadingMore=false;GLOBAL_hasMore=true;CommonUtil.debug("invoke cleanPaginationInfo()")}function cleanList(){$("#movieOrTheaterList").html("");$("#smallLoading").hide()}function cleanPaginationInfoAndListIfNeeded(){CommonUtil.debug("cleanPaginationInfoIfNeeded()");var c=getDaysDiff(GLOBAL_todayDate,GLOBAL_searchDate);if(c<GLOBAL_dateMaxRange&&c>0){cleanList();cleanPaginationInfo()}}
function afterGetDistnaceUnit(c){CommonUtil.debug("afterGetDistnaceUnit(distanceUnit)"+c);cleanList();cleanPaginationInfo();var f=getSearchLocation(),e=$(".menuheader").length;c=new MovieSearchCriteria(f,getSearchDateText(),c,GLOBAL_currentPageNo+1,e);c=JSON.stringify(c);c=GLOBAL_hostUrl+getURL()+c+"&"+CommonUtil.getClientInfo()+getRandomTime();CommonUtil.debug("fetching movie:"+c);c={data:0,loadingStyle:1,url:c,onSuccess:ajaxCBDistnaceUnit};navigator.onLine?CommonUtil.ajax(c):CommonUtil.noNetworkError()}
function ajaxCBDistnaceUnit(c,f){if(getCorrectResult(f)==false)CommonUtil.debug("not correct result");else{if($(".menuheader",c).length>0){$("#movieOrTheaterList").html($(c).html());GLOBAL_currentPageNo++;refreshPlugin();isTheaterTabOn()||trunkMovieDesc()}myScroll.refresh();window.innerHeight>document.getElementById("movieOrTheaterList").offsetHeight+document.getElementById("movieHeader").offsetHeight&&appendMoreItems()}}String.prototype.trim=function(){return this.replace(/(^\s*)|(\s*$)/g,"")};
function SDK_API_captureAddressCallBack(c){setSearchLocation(JSON.stringify(c));processMovieAction()}function getGPSBackForMovie(c){c=CommonUtil.processGpsLocation(c);setSearchLocation(JSON.stringify(c));processMovieAction()}function switchLocationIcon(c){c?$("#changeLocationIcon").attr("class","clsChangeLocationIcon clsChangeLocationButtonFocused"):$("#changeLocationIcon").attr("class","clsChangeLocationIcon clsChangeLocationButtonUnfocused")}
function onDeviceReady(){CommonUtil.debug("On Device Ready()");document.removeEventListener("deviceready",onDeviceReady,false);SDKAPI.setWindowMode();initMovieList()}function initData(){GLOBAL_searchDate=new Date;GLOBAL_todayDate=new Date;setSearchDate(GLOBAL_searchDate);onChangeMovieTab()}function initMovieList(){refreshData()}function forwardToBuyTicket(){storeListAndStatus();window.location.href=GLOBAL_hostUrl+"goToJsp.do?jsp=showSchedule&"+CommonUtil.getClientInfo()}
function formatShowTimes(c){for(var f=0;f<20;f++){var e=c+"-"+f;$("#showTimes"+e)&&$("#showTimes"+e).val()&&$("#showTimesLabel"+e).html(getFormatedShowTimes($("#showTimes"+e).val()))}}
function onClickBuyInMovieList(c,f,e,i,k){i=new TheaterItem(e,i,k);k=document.getElementById("movieId"+c).value;var m=document.getElementById("movieName"+c).value;m=new MovieItem(k,m);var l=document.getElementById("showTimes"+c+"-"+f).value;c=document.getElementById("ticketURI"+c+"-"+f).value;e=new ScheduleItem(k,e,l,c);goToScheduleScreenData(i,m,e)}
function trunkMovieDesc(){for(var c=$(".menuheader").length,f=0;f<c;f+=1){var e=$("#hiddenMovieDec"+f).val();if(!(!e||e=="")){width=$("#movieDec"+f).width();var i=$(".theateraddress").css("font-size").replace("px","").replace("em","").replace("pt","");i=Math.floor(width/i)*4;if(e.length>i)e=e.substr(0,i-3)+"...";$("#movieDec"+f).html(e)}}}
function goToScheduleScreenData(c,f,e){setCurrentTheater(JSON.stringify(c));setCurrentMoive(JSON.stringify(f));setScheduleDate(getSearchDate());setCurrentSchedule(JSON.stringify(e));forwardToBuyTicket()}
function onClickBuyInTheaterList(c,f){var e=c+"-"+f,i=document.getElementById("movieId"+e).value,k=document.getElementById("movieName"+e).value;k=new MovieItem(i,k);var m=document.getElementById("theaterId"+c).value,l=document.getElementById("theaterName"+c).value,o=document.getElementById("theaterAddress"+c).value;l=new TheaterItem(m,l,o);o=document.getElementById("showTimes"+e).value;e=document.getElementById("ticketURI"+e).value;i=new ScheduleItem(i,m,o,e);goToScheduleScreenData(l,k,i)}
function loadImageOfMovieList(c){loadImages(c,true)}function getMovieIdsInMovieList(c){return[document.getElementById("movieId"+c).value]}function getMovieIdsInOneTheater(c){for(var f="",e=[],i=0;;i++){var k=document.getElementById("movieId"+c+"-"+i);if(k==null)break;k=k.value;e[i]=k;f+=k+","}return e}
function loadImages(c,f){CommonUtil.debug("loadImages()    index:[ "+c+" ]  isInMovieList: [  "+f+"   ]");formatShowTimes(c);var e="",i=[];i=f?getMovieIdsInMovieList(c):getMovieIdsInOneTheater(c);for(var k=0;k<i.length;k++)e+=i[k]+",";k={movieIds:e};CommonUtil.debug("load image: "+e);e={url:GLOBAL_hostUrl+"LoadImage.do?jsonStr="+JSON.stringify(k)+"&"+CommonUtil.getClientInfo()};e.onSuccess=function(m){for(var l=0;l<i.length;l++){var o=m[i[l]],t="movieImageId"+c+"-"+l;CommonUtil.debug("movieImageId   "+
t);if(o!="null")document.getElementById(t).src="data:image/gif;base64,"+o}};navigator.onLine?CommonUtil.ajax(e):CommonUtil.noNetworkError()}function loadImageOfTheateList(c){loadImages(c,false)}
function refreshPlugin(){if(isTheaterTabOn()){config.contentclass="showfilmdiv";config.onopenclose=function(){}}else{config.contentclass="placeHolder";config.onopenclose=function(c,f,e){c=$(c).attr("movieId");"none"==e?$(".movieinfor"+c).hide():$(".movieinfor"+c).show()}}ddaccordion.refreshAndInit(config)}function getURL(){return isTheaterTabOn()?"theaterList.do?pageType=ajaxSimpleList&jsonStr=":"movieList.do?pageType=ajaxSimpleList&jsonStr="}
function getCorrectResult(c){if(c)if(isTheaterTabOn()){if(c.indexOf("theaterList.do?pageType=ajaxSimpleList&jsonStr=")!=-1)return true}else if(c.indexOf("movieList.do?pageType=ajaxSimpleList&jsonStr=")!=-1)return true;return false}
function loadMoreItems(c){CommonUtil.debug("loadMoreItems(distanceUnit)"+c);var f=getSearchLocation(),e=$(".menuheader").length;c=new MovieSearchCriteria(f,getSearchDateText(),c,GLOBAL_currentPageNo+1,e);c=JSON.stringify(c);c=GLOBAL_hostUrl+getURL()+c+"&"+CommonUtil.getClientInfo()+getRandomTime();CommonUtil.debug("loading....  "+c);c={data:0,url:c,onSuccess:ajaxCBMoreItems};navigator.onLine?CommonUtil.ajax(c):CommonUtil.noNetworkError()}
function ajaxCBMoreItems(c,f){$("#smallLoading").hide();GLOBAL_isLoadingMore=false;if(getCorrectResult(f)==false)CommonUtil.debug("not correct result");else{if($(".menuheader",c).length>0){$($(c).html()).appendTo($("#movieOrTheaterList"));GLOBAL_currentPageNo++;refreshPlugin();isTheaterTabOn()||trunkMovieDesc()}else{CommonUtil.debug("Tried to fetch more,But No more data returned");GLOBAL_hasMore=false}myScroll.refresh();jQuery(window);window.innerHeight>document.getElementById("movieOrTheaterList").offsetHeight+
document.getElementById("movieHeader").offsetHeight&&appendMoreItems()}}function storeListAndStatus(){setFlagBeforeGoToSchedule();setNeedToReloadWhenBack();var c=new MovieTheaterPageCache(getMovieTabStatus(),GLOBAL_searchDate.getTime(),GLOBAL_currentPageNo,GLOBAL_hasMore,ddaccordion.getOpenedContentIndex(),$("#movieOrTheaterList").html());setMovieTheaterPageCache(JSON.stringify(c))}
function MovieTheaterPageCache(c,f,e,i,k,m){this.tabStatus=c;this.searchDate=f;this.currentPageNo=e;this.hasMoreItem=i;this.whichIsOpen=k;this.listHtml=m}
function recoverPage(){var c=JSON.parse(getMovieTheaterPageCache());GLOBAL_searchDate=new Date;GLOBAL_searchDate.setTime(c.searchDate);GLOBAL_todayDate=new Date;setSearchDate(GLOBAL_searchDate);changeDateDisplay();setMovieTabStatus(c.tabStatus);onChangeMovieTab();GLOBAL_currentPageNo=c.currentPageNo;GLOBAL_hasMore=c.hasMoreItem;GLOBAL_isLoadingMore=false;cleanList();$("#movieOrTheaterList").html(c.listHtml);refreshPlugin();config.defaultexpanded=[]}
function cleanCacheAndFlag(){cleanViewedSchedulePageFlag();cleanMovieTheaterPageCache()}function getRandomTime(){return"&avoidCache="+(new Date).getTime()}function forwardToRating(c){if(c&&""!=c){storeListAndStatus();if(CommonUtil.isIphone())SDKAPI.launchLocalApp(c);else location.href=c}}
function appendMoreItems(){if(GLOBAL_isLoadingMore)CommonUtil.debug("is Loading More, please wait.");else if(GLOBAL_hasMore){if(GLOBAL_currentPageNo>0){GLOBAL_isLoadingMore=true;$("#smallLoading").show();myScroll.refresh();CommonUtil.debug("scrollToElement #smallLoading");myScroll.scrollToElement("#smallLoading",200);CommonUtil.debug("Reach Bottm, try to load more movie or theater");setTimeout("SDKAPI.getPreference(loadMoreItems,PreferenceConstants.DISUNIT)",1E3)}}else CommonUtil.debug("No more item to load....Do nothing")}
;(function(){var c=Math,f=/webkit/i.test(navigator.appVersion)?"webkit":/firefox/i.test(navigator.userAgent)?"Moz":"opera"in window?"O":"";/android/gi.test(navigator.appVersion);var e=/iphone|ipad/gi.test(navigator.appVersion),i=/playbook/gi.test(navigator.appVersion),k=/hp-tablet/gi.test(navigator.appVersion),m="WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix,l="ontouchstart"in window&&!k,o=f+"Transform"in document.documentElement.style,t=e||i,z=function(){return window.requestAnimationFrame||
window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){return setTimeout(a,17)}}(),w=window.cancelRequestAnimationFrame||window.webkitCancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout,u="onorientationchange"in window?"orientationchange":"resize",v=l?"touchstart":"mousedown",
q=l?"touchmove":"mousemove",r=l?"touchend":"mouseup",s=l?"touchcancel":"mouseup",x="translate"+(m?"3d(":"("),y=m?",0)":")";e=function(a,d){var b=this,h;b.wrapper=typeof a=="object"?a:document.getElementById(a);b.wrapper.style.overflow="hidden";b.scroller=b.wrapper.children[0];b.options={hScroll:true,vScroll:true,x:0,y:0,bounce:true,bounceLock:false,momentum:true,lockDirection:true,useTransform:true,useTransition:false,onRefresh:null,onBeforeScrollStart:function(g){g.preventDefault()},onScrollStart:null,
onBeforeScrollMove:null,onScrollMove:null,onBeforeScrollEnd:null,onScrollEnd:null,onTouchEnd:null,onDestroy:null};for(h in d)b.options[h]=d[h];b.x=b.options.x;b.y=b.options.y;b.options.useTransform=o?b.options.useTransform:false;b.options.hScrollbar=b.options.hScroll&&b.options.hScrollbar;b.options.vScrollbar=b.options.vScroll&&b.options.vScrollbar;b.options.useTransition=t&&b.options.useTransition;b.scroller.style[f+"TransitionProperty"]=b.options.useTransform?"-"+f.toLowerCase()+"-transform":"top left";
b.scroller.style[f+"TransitionDuration"]="0";b.scroller.style[f+"TransformOrigin"]="0 0";if(b.options.useTransition)b.scroller.style[f+"TransitionTimingFunction"]="cubic-bezier(0.33,0.66,0.66,1)";if(b.options.useTransform)b.scroller.style[f+"Transform"]=x+b.x+"px,"+b.y+"px"+y;else b.scroller.style.cssText+=";position:absolute;top:"+b.y+"px;left:"+b.x+"px";b.refresh();b._bind(u,window);b._bind(v);l||b._bind("mouseout",b.wrapper);if(b.options.checkDOMChanges)b.checkDOMTime=setInterval(function(){b._checkDOMChanges()},
500)};e.prototype={enabled:true,x:0,y:0,steps:[],scale:1,handleEvent:function(a){switch(a.type){case v:if(!l&&a.button!==0)break;this._start(a);break;case q:this._move(a);break;case r:case s:this._end(a);break;case u:this._resize();break;case "mouseout":this._mouseout(a);break;case "webkitTransitionEnd":this._transitionEnd(a)}},_resize:function(){this.refresh()},_checkDOMChanges:function(){this.moved||this.zoomed||this.animating||this.scrollerW==this.scroller.offsetWidth*this.scale&&this.scrollerH==
this.scroller.offsetHeight*this.scale||this.refresh()},_pos:function(a,d){a=this.hScroll?a:0;d=this.vScroll?d:0;if(this.options.useTransform)this.scroller.style[f+"Transform"]=x+a+"px,"+d+"px"+y+" scale("+this.scale+")";else{a>>=0;d>>=0;this.scroller.style.left=a+"px";this.scroller.style.top=d+"px"}this.x=a;this.y=d},_start:function(a){var d=l?a.touches[0]:a,b,h;if(this.enabled){this.options.onBeforeScrollStart&&this.options.onBeforeScrollStart.call(this,a);this.options.useTransition&&this._transitionTime(0);
this.zoomed=this.animating=this.moved=false;this.dirY=this.dirX=this.absDistY=this.absDistX=this.distY=this.distX=0;if(this.options.momentum){if(this.options.useTransform){b=getComputedStyle(this.scroller,null)[f+"Transform"].replace(/[^0-9-.,]/g,"").split(",");h=b[4]*1;b=b[5]*1}else{h=getComputedStyle(this.scroller,null).left.replace(/[^0-9-]/g,"")*1;b=getComputedStyle(this.scroller,null).top.replace(/[^0-9-]/g,"")*1}if(h!=this.x||b!=this.y){this.options.useTransition?this._unbind("webkitTransitionEnd"):
w(this.aniTime);this.steps=[];this._pos(h,b)}}this.startX=this.x;this.startY=this.y;this.pointX=d.pageX;this.pointY=d.pageY;this.startTime=a.timeStamp||Date.now();this.options.onScrollStart&&this.options.onScrollStart.call(this,a);this._bind(q);this._bind(r);this._bind(s)}},_move:function(a){var d=l?a.touches[0]:a,b=d.pageX-this.pointX,h=d.pageY-this.pointY,g=this.x+b,j=this.y+h,n=a.timeStamp||Date.now();this.options.onBeforeScrollMove&&this.options.onBeforeScrollMove.call(this,a);this.pointX=d.pageX;
this.pointY=d.pageY;if(g>0||g<this.maxScrollX)g=this.options.bounce?this.x+b/2:g>=0||this.maxScrollX>=0?0:this.maxScrollX;if(j>0||j<this.maxScrollY)j=this.options.bounce?this.y+h/2:j>=0||this.maxScrollY>=0?0:this.maxScrollY;this.distX+=b;this.distY+=h;this.absDistX=c.abs(this.distX);this.absDistY=c.abs(this.distY);if(!(this.absDistX<6&&this.absDistY<6)){if(this.options.lockDirection)if(this.absDistX>this.absDistY+5){j=this.y;h=0}else if(this.absDistY>this.absDistX+5){g=this.x;b=0}this.moved=true;
this._pos(g,j);this.dirX=b>0?-1:b<0?1:0;this.dirY=h>0?-1:h<0?1:0;if(n-this.startTime>300){this.startTime=n;this.startX=this.x;this.startY=this.y}this.options.onScrollMove&&this.options.onScrollMove.call(this,a)}},_end:function(a){if(!(l&&a.touches.length!=0)){var d=l?a.changedTouches[0]:a,b,h,g={dist:0,time:0},j={dist:0,time:0},n=(a.timeStamp||Date.now())-this.startTime;b=this.x;h=this.y;this._unbind(q);this._unbind(r);this._unbind(s);this.options.onBeforeScrollEnd&&this.options.onBeforeScrollEnd.call(this,
a);if(this.moved){if(n<300&&this.options.momentum){g=b?this._momentum(b-this.startX,n,-this.x,this.scrollerW-this.wrapperW+this.x,this.options.bounce?this.wrapperW:0):g;j=h?this._momentum(h-this.startY,n,-this.y,this.maxScrollY<0?this.scrollerH-this.wrapperH+this.y:0,this.options.bounce?this.wrapperH:0):j;b=this.x+g.dist;h=this.y+j.dist;if(this.x>0&&b>0||this.x<this.maxScrollX&&b<this.maxScrollX)g={dist:0,time:0};if(this.y>0&&h>0||this.y<this.maxScrollY&&h<this.maxScrollY)j={dist:0,time:0}}if(g.dist||
j.dist){d=c.max(c.max(g.time,j.time),10);this.scrollTo(b>>0,h>>0,d)}else this._resetPos(200)}else{if(l){for(b=d.target;b.nodeType!=1;)b=b.parentNode;if(b.tagName!="SELECT"&&b.tagName!="INPUT"&&b.tagName!="TEXTAREA"){h=document.createEvent("MouseEvents");h.initMouseEvent("click",true,true,a.view,1,d.screenX,d.screenY,d.clientX,d.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,0,null);h._fake=true;b.dispatchEvent(h)}}this._resetPos(200)}this.options.onTouchEnd&&this.options.onTouchEnd.call(this,a)}},
_resetPos:function(a){var d=this.x>=0?0:this.x<this.maxScrollX?this.maxScrollX:this.x,b=this.y>=0||this.maxScrollY>0?0:this.y<this.maxScrollY?this.maxScrollY:this.y;if(d==this.x&&b==this.y){if(this.moved){this.options.onScrollEnd&&this.options.onScrollEnd.call(this);this.moved=false}}else this.scrollTo(d,b,a||0)},_mouseout:function(a){var d=a.relatedTarget;if(d)for(;d=d.parentNode;)if(d==this.wrapper)return;this._end(a)},_transitionEnd:function(a){if(a.target==this.scroller){this._unbind("webkitTransitionEnd");
this._startAni()}},_startAni:function(){var a=this,d=a.x,b=a.y,h=Date.now(),g,j,n;if(!a.animating)if(a.steps.length){g=a.steps.shift();if(g.x==d&&g.y==b)g.time=0;a.animating=true;a.moved=true;if(a.options.useTransition){a._transitionTime(g.time);a._pos(g.x,g.y);a.animating=false;g.time?a._bind("webkitTransitionEnd"):a._resetPos(0)}else{n=function(){var p=Date.now();if(p>=h+g.time){a._pos(g.x,g.y);a.animating=false;a.options.onAnimationEnd&&a.options.onAnimationEnd.call(a);a._startAni()}else{p=(p-
h)/g.time-1;j=c.sqrt(1-p*p);p=(g.x-d)*j+d;a._pos(p,(g.y-b)*j+b);if(a.animating)a.aniTime=z(n)}};n()}}else a._resetPos(400)},_transitionTime:function(a){this.scroller.style[f+"TransitionDuration"]=a+"ms"},_momentum:function(a,d,b,h,g){d=c.abs(a)/d;var j=d*d/0.0012,n=0;n=0;if(a>0&&j>b){b+=g/(6/(j/d*6.0E-4));d=d*b/j;j=b}else if(a<0&&j>h){h+=g/(6/(j/d*6.0E-4));d=d*h/j;j=h}j*=a<0?-1:1;return{dist:j,time:d/6.0E-4>>0}},_offset:function(a){for(var d=-a.offsetLeft,b=-a.offsetTop;a=a.offsetParent;){d-=a.offsetLeft;
b-=a.offsetTop}return{left:d,top:b}},_bind:function(a,d,b){(d||this.scroller).addEventListener(a,this,!!b)},_unbind:function(a,d,b){(d||this.scroller).removeEventListener(a,this,!!b)},destroy:function(){this.scroller.style[f+"Transform"]="";this._unbind(u,window);this._unbind(v);this._unbind(q);this._unbind(r);this._unbind(s);this._unbind("mouseout",this.wrapper);this.options.useTransition&&this._unbind("webkitTransitionEnd");this.options.checkDOMChanges&&clearInterval(this.checkDOMTime);this.options.onDestroy&&
this.options.onDestroy.call(this)},refresh:function(){var a;this.wrapperW=this.wrapper.clientWidth;this.wrapperH=this.wrapper.clientHeight;this.scrollerW=this.scroller.offsetWidth;this.scrollerH=this.scroller.offsetHeight;this.maxScrollX=this.wrapperW-this.scrollerW;this.maxScrollY=this.wrapperH-this.scrollerH;this.dirY=this.dirX=0;this.options.onRefresh&&this.options.onRefresh.call(this);this.hScroll=this.options.hScroll&&this.maxScrollX<0;this.vScroll=this.options.vScroll&&(!this.options.bounceLock&&
!this.hScroll||this.scrollerH>this.wrapperH);a=this._offset(this.wrapper);this.wrapperOffsetLeft=-a.left;this.wrapperOffsetTop=-a.top;this.scroller.style[f+"TransitionDuration"]="0";this._resetPos(200)},scrollTo:function(a,d,b,h){var g=a;this.stop();g.length||(g=[{x:a,y:d,time:b,relative:h}]);a=0;for(d=g.length;a<d;a++){if(g[a].relative){g[a].x=this.x-g[a].x;g[a].y=this.y-g[a].y}this.steps.push({x:g[a].x,y:g[a].y,time:g[a].time||0})}this._startAni()},scrollToElement:function(a,d){var b;if(a=a.nodeType?
a:this.scroller.querySelector(a)){b=this._offset(a);b.left+=this.wrapperOffsetLeft;b.top+=this.wrapperOffsetTop;b.left=b.left>0?0:b.left<this.maxScrollX?this.maxScrollX:b.left;b.top=b.top>0?0:b.top<this.maxScrollY?this.maxScrollY:b.top;d=d===undefined?c.max(c.abs(b.left)*2,c.abs(b.top)*2):d;this.scrollTo(b.left,b.top,d)}},disable:function(){this.stop();this._resetPos(0);this.enabled=false;this._unbind(q);this._unbind(r);this._unbind(s)},enable:function(){this.enabled=true},stop:function(){w(this.aniTime);
this.steps=[];this.animating=this.moved=false}};if(typeof exports!=="undefined")exports.iScroll=e;else window.iScroll=e})();
