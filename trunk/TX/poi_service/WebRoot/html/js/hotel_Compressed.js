function TNDatePicker(a){this.setConfig(a);this.flushCal()}
TNDatePicker.prototype={type:"double",container:null,checkInDateTarget:null,checkOutDateTarget:null,todayDate:null,checkInDate:new Date,checkOutDate:null,mArr:null,wArr:null,month:null,year:null,hasPreMonth:false,hasNextMonth:true,currentOperation:null,setConfig:function(a){if(!a||!a.type)alert("Please indicate the type of calendar, it should be 'single' or 'double'");this.type=a.type;if(!a||!a.container)alert("Please indicate the id of the container for the calendar");if(!a||!a.checkInDateTarget)alert("Please indicate the id of the check In Date Container");
if(a.type=="double"&&(!a||!a.checkOutDateTarget))alert("Please indicate the id of the check Out Date Container");this.container=a.container;this.checkInDateTarget=a.checkInDateTarget;this.checkOutDateTarget=a.checkOutDateTarget;this.todayDate=new Date;this.mArr=a.mArr?a.mArr:["January","February","March","April","May","June","July","August","September","October","November","December"];this.wArr=a.wArr?a.wArr:["Sun","Mon","Tue","Wed","Tur","Fri","Sat"];this.month=a.month?a.month:this.todayDate.getMonth()+
1;this.year=a.year?a.year:this.todayDate.getFullYear();this.checkInDate.setHours(1,1,1,1);$("#"+this.checkInDateTarget).html(this.dateToStr(this.checkInDate))},isDouble:function(){return this.type=="double"},flushCal:function(){$("#"+this.container).html(this.buildCal(this.mArr,this.wArr,this.month,this.year))},calChangeCSS:function(a,b){a.className=b},nextMonth:function(){if(this.month<12)this.month+=1;else{this.month=1;this.year+=1}this.hasNextMonth=this.hasPreMonth=true;this.flushCal()},strToDate:function(a){a=
a.split("-");var b=new Date;b.setFullYear(a[0],a[1]-1,a[2]);b.setHours(1,1,1,1);return b},dateToStr:function(a){var b="";if(this.dayDiff(a,this.todayDate)==0)b="";b+=this.addZero(a.getMonth()+1)+"/"+this.addZero(a.getDate())+"/"+(a.getFullYear()+"").substring(2,4);return b},addZero:function(a){return a<10?"0"+a:a},getTomorrow:function(){var a=new Date;a.setDate(a.getTime()+864E5);return a},getDaySpan:function(a,b){var c=b.getTime()-a.getTime();console.log("DiffMs:"+c/864E5);return Math.floor(c/864E5)},
preMonth:function(){if(this.hasPreMonth){if(this.year==this.todayDate.getFullYear()&&this.month<=this.todayDate.getMonth()+1)this.hasPreMonth=false;else{if(this.month==1){this.month=12;this.year-=1}else this.month-=1;this.hasPreMonth=true}this.hasNextMonth=true;this.flushCal()}},highlightPreIcon:function(){$("#preImg").attr("class","hotel_previous_arrow_icon_focused")},dishighlightPreIcon:function(){$("#preImg").attr("class","hotel_previous_arrow_icon_unfocused")},highlightNextIcon:function(){$("#nextImg").attr("class",
"hotel_next_arrow_icon_focused")},dishighlightNextIcon:function(){$("#nextImg").attr("class","hotel_next_arrow_icon_unfocused")},showForCheckIn:function(){if(this.checkInDate){console.log("Change  check in Month"+this.month);if(this.month!=this.checkInDate.getMonth()+1){this.month=this.checkInDate.getMonth()+1;this.hasPreMonth=this.month==this.todayDate.getMonth()+1?false:true;this.flushCal()}}$("#"+this.container).show();this.currentOperation=1},showForCheckOut:function(){if(this.checkOutDate)if(this.month!=
this.checkOutDate.getMonth()+1){console.log("Change Month:"+this.month);this.month=this.checkOutDate.getMonth()+1;this.hasPreMonth=this.month==this.todayDate.getMonth()+1?false:true;this.flushCal()}$("#"+this.container).show();this.currentOperation=0},setCheckOutDate:function(a){(this.checkOutDate=a)?$("#"+this.checkOutDateTarget).html(this.dateToStr(this.checkOutDate)):$("#"+this.checkOutDateTarget).html("&nbsp;");this.flushCal()},getCheckInDate:function(){return this.checkInDate},getCheckOutDate:function(){return this.checkOutDate},
jumpToDate:function(a,b){if(a){var c=new Date;c.setTime(a.getTime()+b*864E5);console.log(c.toLocaleString());return c}},syncNightsQuantity:function(){if(this.checkInDate&&this.checkOutDate){Global_nightQuantity=this.getDaySpan(this.checkInDate,this.checkOutDate);console.log("Sync:"+Global_nightQuantity);$("#nightQuantity").html(Global_nightQuantity);$("#nightSubImg").attr("src",GLOBAL_sharedImageUrl+"subtract_icon_unfocused.png")}},onSelectDate:function(a,b){var c=this.strToDate(b);console.log(b);
console.log(c.toDateString());this.currentOperation==null&&alert("Unknown operation");if(this.currentOperation==1){if(this.dayDiff(c,this.todayDate)<0){alert("Invalid Date, You can't choose the day past.");return}if(this.isDouble())if(this.checkOutDate&&this.dayDiff(c,this.checkOutDate)>=0){alert("Invalid Date, Check In Date Should Be Earlier Than Check Out Date");return}this.checkInDate&&$(".clsSelectedCheckInBg").attr("class","clsDayTd gray");a.className="clsDayTd clsSelectedCheckInBg white";this.checkInDate=
c;$("#"+this.checkInDateTarget).html(this.dateToStr(this.checkInDate));CommonUtil.debug("set the check in date:"+this.checkInDate.toLocaleString())}else{if(this.dayDiff(c,this.todayDate)<0){alert("Invalid Date, You can't choose the day past.");return}if(this.checkInDate&&this.dayDiff(c,this.checkInDate)<=0){alert("Invalid Date, Check Out Date Should Be Later Than Check Out Date");return}this.checkOutDate&&$(".clsSelectedCheckOutBg").attr("class","clsDayTd gray");a.className="clsDayTd clsSelectedCheckOutBg white";
this.checkOutDate=c;$("#"+this.checkOutDateTarget).html(this.dateToStr(this.checkOutDate));CommonUtil.debug("set the check out date:"+this.checkOutDate)}this.syncNightsQuantity()},dayDiff:function(a,b){var c=a.getFullYear()*372+a.getMonth()*31+a.getDate(),d=b.getFullYear()*372+b.getMonth()*31+b.getDate();return c-d},selectDone:function(){$("#"+this.container).hide()},buildCal:function(a,b,c,d){var f=[31,0,31,30,31,30,31,31,30,31,30,31],e=new Date(d,c-1,1);e.od=e.getDay()+1;var g=new Date;g=d==g.getFullYear()&&
c==g.getMonth()+1?g.getDate():0;f[1]=e.getFullYear()%100!=0&&e.getFullYear()%4==0||e.getFullYear()%400==0?29:28;a='<table class="bg_title clsCalendarToolBar"><tr width="100%" height="100%"><td width="10%" ontouchstart="Global_calendar.highlightPreIcon()" ontouchend="Global_calendar.dishighlightPreIcon()" onClick="Global_calendar.preMonth();"><img id="preImg" class="hotel_previous_arrow_icon_unfocused"/></td><td class="white" width="80%" height="100%">'+a[c-1]+" - "+d+'</td><td onclick="Global_calendar.nextMonth();" onTouchStart="Global_calendar.highlightNextIcon()" onTouchEnd="Global_calendar.dishighlightNextIcon()"><img id="nextImg" class="hotel_next_arrow_icon_unfocused" /></td></tr></table><div class="clsCalendarMainBody clsPanelBg"><div class="clsShadowBar"></div>';
a+='<table class="clsCanlendarPanel clsAllRadius" cols="7" cellpadding="0" cellspacing="0">';a+='<tr class="clsWeekDayRow">';for(s=0;s<7;s++)a+='<td class="clsWeekDayTd">'+b[s]+"</td>";a+='</tr><tr align="center" class="clsDayRow">';for(i=1;i<=42;i++){b=i-e.od>=0&&i-e.od<f[c-1]?i-e.od+1:"&nbsp;";var h=false;if(b=="&nbsp;")h=false;else{var k=new Date;k.setFullYear(d,c-1,b);if(this.dayDiff(k,this.todayDate)>=0)h=true}var l;l=b==g?'<span id="today">'+b+"</span>":b;var m="";m=h&&this.checkInDate&&this.dayDiff(k,
this.checkInDate)==0?"clsDayTd clsSelectedCheckInBg white":h&&this.checkOutDate&&this.dayDiff(k,this.checkOutDate)==0?"clsDayTd clsSelectedCheckOutBg white":"clsDayTd gray";var o=null;o=h?" onClick=\"Global_calendar.onSelectDate(this,'"+this.year+"-"+this.month+"-"+b+"')\"":"";a+='<td class="'+m+'"'+o+">"+l+"</td>";if(i%7==0&&i<36)a+='</tr><tr align="center" class="clsDayRow">'}a+="</tr></table>";a+='<table class="clsConfirmBar"><tr class="clsFullFilled"><td class="clsFullFilled" align="center"><div class="clsButtonContainer"  onclick="Global_calendar.selectDone();"><table class="clsDoneBtnSkeleton clsBtnRadius fc_gray veryLarge clsDontBtnBgNormal"  onTouchStart=\'Global_calendar.calChangeCSS(this,"clsDoneBtnSkeleton clsBtnRadius white veryLarge clsDontBtnBgHL")\'  onTouchEnd=\'Global_calendar.calChangeCSS(this,"clsDoneBtnSkeleton clsBtnRadius gray veryLarge clsDontBtnBgNormal")\'><tr><td class="veryLarge">Done</td></tr></table></div></td></tr></table></div></div>';
return a}};var Global_calendar=null;var Global_roomQuantity=1,Global_guestQuantity=1,Global_nightQuantity=0;
function addQuantity(a){switch(a){case 1:CommonUtil.debug("add night");Global_nightQuantity<=0&&$("#nightSubImg").attr("src",GLOBAL_sharedImageUrl+"subtract_icon_unfocused.png");Global_nightQuantity++;$("#nightQuantity").html(Global_nightQuantity);syncCalendar();break;case 2:if(Global_roomQuantity<=0){Global_roomQuantity=0;$("#roomSubImg").attr("src",GLOBAL_sharedImageUrl+"subtract_icon_unfocused.png")}Global_roomQuantity++;$("#roomQuantity").html(Global_roomQuantity);break;case 3:if(Global_guestQuantity<=
0){Global_guestQuantity=0;$("#guestSubImg").attr("src",GLOBAL_sharedImageUrl+"subtract_icon_unfocused.png")}Global_guestQuantity++;$("guestQuantity").html(Global_guestQuantity)}}
function subQuantity(a){switch(a){case 1:CommonUtil.debug("sub night");if(Global_nightQuantity<=0)break;Global_nightQuantity--;$("#nightQuantity").html(Global_nightQuantity);if(Global_nightQuantity<=0){Global_nightQuantity=0;$("#nightSubImg").attr("src",GLOBAL_sharedImageUrl+"subtract_icon_disabled.png")}syncCalendar();break;case 2:if(Global_roomQuantity<=0)break;Global_roomQuantity--;$("#roomQuantity").html(Global_roomQuantity);if(Global_roomQuantity<=0){Global_roomQuantity=0;$("#roomSubImg").attr("src",
GLOBAL_sharedImageUrl+"subtract_icon_disabled.png")}break;case 3:if(Global_guestQuantity<=0)break;Global_guestQuantity--;$("#guestQuantity").html(Global_guestQuantity);if(Global_guestQuantity<=0){Global_guestQuantity=0;$("#guestSubImg").attr("src",GLOBAL_sharedImageUrl+"subtract_icon_disabled.png")}}}
function syncCalendar(){CommonUtil.debug("sync calendar");if(Global_calendar.getCheckInDate){Global_nightQuantity<=0?Global_calendar.setCheckOutDate(null):Global_calendar.setCheckOutDate(Global_calendar.jumpToDate(Global_calendar.getCheckInDate(),Global_nightQuantity));Global_calendar.flushCal()}else CommonUtil.showAlert("",I18NHelper["hotel.chooseCheckIn"],I18NHelper["common.button.OK"])}
function fetchAndDispalyHotelDetail(a){if(!GLOBAL_isHotelDetailLoaded){loadPopup_poidetail();a={data:0,url:GLOBAL_hostUrl+"getHotelDetailData.do?jsonStr="+JSON.stringify({poiId:2043139220,isDummy:"false"})+"&"+CommonUtil.getClientInfo(),onSuccess:ajaxCallBackHotelDetail};CommonUtil.ajax(a)}}function ajaxCallBackHotelDetail(a){a=CommonUtil.getValidString(a);if(""!=a)if(JSON.parse(a)){setHotelDetailCache(a,getPoiId());displayHotelDetail(a)}}var GLOBAL_HOTELIMAGESRC;
function displayHotelDetail(a){PopupUtil.hide();a=JSON.parse(a);$("#hotelDesc").html(a.desc);var b=a.amenities;$("#amenityList").html(generateAmenitiesImage(b));$("#locationDesc").html(a.locationDesc);$("#hotel_totalRooms").html(a.totalRooms);$("#hotel_totalFloors").html(a.totalFloors);$("#hotel_yearBuilt").html(a.yearBuilt);$("#hotel_lastRenovation").html(a.lastRenovation);(a=a.photos)&&generateImg(a)}
function generateImg(a){for(var b="",c="",d="",f=0,e=0;e<a.length;e++){GLOBAL_HOTELIMAGESRC="";d=a[e];c=CommonUtil.getValidString(PoiCacheHelper.getLogoImageCache(d));if(c==""){generateImgSrc(d);c=GLOBAL_HOTELIMAGESRC;PoiCacheHelper.setLogoImageCache(d,c)}if(c&&c!=""){b+='<li class="sliderLI" onclick="SLIDER.onClickImage('+f+')">';b+='<img class="clsSliderImg" src="data:image/gif;base64,'+c+'"/></li>';f++}}$("#sliderUL").html(b);SLIDER.init()}
function generateImgSrc(a){a={data:0,loadingStyle:1,url:GLOBAL_hostUrl+"getLogImage.do?jsonStr="+('{"imageName":\t"'+a+'","width":\t"90","height":"90"}')+"&"+CommonUtil.getClientInfo(),onSuccess:getImgSrc};CommonUtil.ajax(a)}function getImgSrc(a){a=CommonUtil.getValidString(a);if(""!=a){a=JSON.parse(a).image;if(a!=""&&a!=null)GLOBAL_HOTELIMAGESRC=a}}
function generateAmenitiesImage(a){var b=[];b[0]=new AmenityItem(1,"poi_icon_airport_shuttle",false);b[1]=new AmenityItem(2,"poi_icon_social_hour",false);b[2]=new AmenityItem(3,"poi_icon_fitness_center",false);b[3]=new AmenityItem(4,"poi_icon_internet_service_available",false);b[4]=new AmenityItem(5,"poi_icon_local_phone_service",false);b[5]=new AmenityItem(6,"poi_icon_breakfast",false);b[6]=new AmenityItem(7,"poi_icon_pet_friendly",false);b[7]=new AmenityItem(8,"poi_icon_pool",false);b[8]=new AmenityItem(9,
"poi_icon_restaurant",false);b[9]=new AmenityItem(10,"poi_icon_kitchen_available",false);for(var c in a)for(var d in b)if(a[c]==b[d].id){contains=true;b[d].hasAmenity=true;break}a="";for(c=0;c<b.length;c++)a+=c!=b.length-1?b[c].toImg()+"&nbsp;&nbsp;":b[c].toImg();return a}function AmenityItem(a,b){this.id=a;this.iconPrefix=b;this.hasAmenity=false}AmenityItem.prototype={toImg:function(){return"<img src='"+GLOBAL_sharedImageUrl+this.iconPrefix+(this.hasAmenity?"_focusd":"_unfocusd")+".png' />"}};
function findRooms(){Global_calendar.getCheckInDate||CommonUtil.showAlert("",I18NHelper["hotel.chooseCheckIn"],I18NHelper["common.button.OK"]);Global_calendar.getCheckOutDate||CommonUtil.showAlert("",I18NHelper["hotel.chooseCheckOut"],I18NHelper["common.button.OK"]);if(Global_nightQuantity<=0)CommonUtil.showAlert("",I18NHelper["hotel.chooseNightQuantity"],I18NHelper["common.button.OK"]);else if(Global_roomQuantity<=0)CommonUtil.showAlert("",I18NHelper["hotel.chooseRoomQuantity"],I18NHelper["common.button.OK"]);
else if(Global_guestQuantity<=0)CommonUtil.showAlert("",I18NHelper["hotel.chooseGuestQuantity"],I18NHelper["common.button.OK"]);else{var a=new HotelSearchCriteria(null,Global_calendar.getCheckInDate(),Global_calendar.getCheckOutDate(),null,null,null,null,null,Global_nightQuantity,Global_roomQuantity,Global_guestQuantity),b=getHotelDetailCache(getPoiId()),c=null;if(b)c=JSON.parse(b).partnerPoiId;if(c){setHotelInfo(c,JSON.stringify(a));a=LocalAppsURLHelper.HOTEL+"&"+CommonUtil.getClientInfo();SDKAPI.launchLocalApp(a)}else CommonUtil.showAlert("",
I18NHelper["hotel.noHotelDetail"],I18NHelper["common.button.OK"])}}
function setHotelInfo(a,b){var c=JSON.parse('{"logoUrl":"", "name":"", "rating":"", "phoneNo":"","stop":"","id":""}'),d=JSON.parse(CommonUtil.getFromCache(appendPoiKey(PoiCacheKeys.POIDETAIL))).poi;c.logoUrl=document.getElementById("logImageDiv").getElementsByTagName("IMG")[0].src;c.name=d.bizPoi.brand;c.rating=d.rating;c.phoneNo=d.bizPoi.phoneNumber;c.stop=d.bizPoi.stop;c.id=a;navigator.tnservice.deletePersistentData("FOR_LOCALAPPS_DATA",function(){},function(){});c='{"HOTEL":'+('{"CURRENT_HOTEL":'+
JSON.stringify(c)+', "SEARCH_CRITERIA":'+b+"}")+"}";navigator.tnservice.setPersistentData("FOR_LOCALAPPS_DATA",c,"",function(){},function(){})}function setHotelDetailCache(a,b){sessionStorage.setItem("SS_HOTEL_CURRENT_HOTEL"+b,a)}function getHotelDetailCache(a){return sessionStorage.getItem("SS_HOTEL_CURRENT_HOTEL"+a)}
function HotelSearchCriteria(a,b,c,d,f,e,g,h,k,l,m){this.location=a;this.checkInDate=b;this.checkOutDate=c;this.maxDistance=d;this.minPrice=f;this.maxPrice=e;this.minRating=g;this.maxRating=h;this.nightQuantity=k;this.roomQuantity=l;this.guestQuantity=m}function getPoiId(){return JSON.parse(CommonUtil.getFromCache(appendPoiKey(PoiCacheKeys.POIDETAIL))).poi.bizPoi.poiId}
function writeHtml(){var a=document.getElementById("poihotelmain"),b=document.getElementById("poihotelreserve"),c="";c="";c='<table class="clsPicsTable">\t<tr>\t\t<td id="photoList" height="100%" width="100%" align="center" valign="middle">\t\t\t<div id="imageSliderDiv" class="imageSlider"><ul id="sliderUL"></ul></div>\t\t</td>\t</tr></table><table class="clsAmenitiesTable">\t<tr>\t\t<td align="left" valign="middle" class="clsFontColor_black bold clsAmenities fs_small">'+I18NHelper["hotel.amenities"]+
'</td>\t\t<td align="right" id="amenityList" valign="middle" class="clsAmenitiesItem"></td>\t</tr></table><table class="clsDescriptionTable">\t<tr>\t\t<td valign="top" class="clsFontColor_black fs_small">\t\t\t<span class="clsFontColor_black bold" >'+I18NHelper["hotel.propertyDesc"]+':&nbsp;</span><span id="hotelDesc" class="clsFontColor_gray"></span>\t\t</td>\t</tr></table><table class="DescTable">\t<tr>\t\t<td valign="top" class="clsFontColor_black fs_small">\t\t\t<span class="clsFontColor_black bold" >'+
I18NHelper["hotel.locationDesc"]+':</span>&nbsp;<span id="locationDesc" class="clsFontColor_gray"></span>\t\t</td>\t</tr></table><table class="DescTable">\t<tr>\t\t<td valign="top" >\t\t\t<div class="clsFontColor_black bold fs_small" >'+I18NHelper["hotel.propertyfacts"]+':</div>\t\t\t<div class="clsFontColor_gray fs_small" >'+I18NHelper["hotel.totalRooms"]+':&nbsp;<span id="hotel_totalRooms" class="fw_bold"></span></div>\t\t\t<div class="clsFontColor_gray fs_small" >'+I18NHelper["hotel.totalFloors"]+
':&nbsp;<span id="hotel_totalFloors" class="fw_bold"></span></div>\t\t\t<div class="clsFontColor_gray fs_small" >'+I18NHelper["hotel.yearBuilt"]+':&nbsp;<span id="hotel_yearBuilt" class="fw_bold"></span></div>\t\t\t<div class="clsFontColor_gray fs_small" >'+I18NHelper["hotel.lastRenovation"]+':&nbsp;<span id="hotel_lastRenovation" class="fw_bold"></span></div>\t\t</td>\t</tr></table>';a.innerHTML=c;c='<div class="clsConfigBorder">\t<table class="clsConfigRow clsTopItemRadius clsFontColor_gray">\t\t<tr>\t\t\t<td align="left" class="clsLeftCheckInTd" width="50%">\t\t\t\t<table class="clsContentWrapper" height="100%" width="100%" onclick="Global_calendar.showForCheckIn();">\t\t\t\t\t<tr>\t\t\t\t\t\t<td height="100%" width="75%">\t\t\t\t\t\t\t<table>\t\t\t\t\t\t\t\t<tr height="50%"><td align="left"><span class="clsFontColor_gray bold fs_small" >'+
I18NHelper["hotel.checkIn"]+'</span></td></tr>\t\t\t\t\t\t\t\t<tr height="50%"><td align="left"><span class="clsHotelDate clsFontColor_blue" id="checkInDate">&nbsp; </span></td></tr>\t\t\t\t\t\t\t</table>\t\t\t\t\t\t\t</td>\t\t\t\t\t<td height="100%" width="25%" align="right" ><img src="'+GLOBAL_sharedImageUrl+'hotel_calendar_icon_unfocused.png"></td>\t\t\t\t\t</tr>\t\t\t\t</table>\t\t\t</td>\t\t\t<td align="left" width="50%">\t\t\t\t<table class="clsContentWrapper" height="100%" width="100%" onclick="Global_calendar.showForCheckOut();">\t\t\t\t\t<tr>\t\t\t\t\t\t<td height="100%" width="80%">\t\t\t\t\t\t\t<table>\t\t\t\t\t\t\t\t<tr height="50%"><td align="left"><span class="clsFontColor_gray bold fs_small" >'+
I18NHelper["hotel.checkOut"]+'</span></td></tr>\t\t\t\t\t\t\t\t<tr height="50%"><td align="left"><span class="clsHotelDate clsFontColor_blue" id="checkOutDate">&nbsp; </span></td></tr>\t\t\t\t\t\t\t\t</table>\t\t\t\t\t\t</td>\t\t\t\t\t\t<td height="100%" width="20%" align="right"><img src="'+GLOBAL_sharedImageUrl+'hotel_calendar_icon_unfocused.png"></td>\t\t\t\t\t</tr>\t\t\t\t</table>\t\t\t</td>\t\t</tr>\t</table>\t<table class="clsConfigRow clsMiddleItemRadius clsFontColor_gray bold">\t\t<tr>\t\t\t<td width="50%" align="left" class="clsContentWrapper fs_small"><span>'+
I18NHelper["hotel.nights"]+'</span></td>\t\t\t<td width="50%" align="right">\t\t\t\t<table class="clsAddAndSub" >\t\t\t\t\t<tr>\t\t\t\t\t\t<td onClick="subQuantity(1)" width="50px" height="100%" align="center" valign="middle"><img id="nightSubImg" src="'+GLOBAL_sharedImageUrl+'subtract_icon_disabled.png" class="clsAddSubSyle" /></td>\t\t\t\t\t\t<td id="nightQuantity" width="40px" height="100%" align="center" valign="middle" class="clsFontColor_gray fs_small bold">0</td>\t\t\t\t\t\t<td onClick="addQuantity(1)" width="50px" height="100%" align="center" valign="middle"><img id="nightAddImg" src="'+
GLOBAL_sharedImageUrl+'plus_icon_unfocused.png" class="clsAddSubSyle" /></td>\t\t\t\t\t</tr>\t\t\t\t</table>\t\t\t</td>\t\t</tr>\t</table>\t<table class="clsConfigRow clsMiddleItemRadius  clsFontColor_gray bold">\t\t<tr>\t\t\t<td width="50%" align="left" class="clsContentWrapper fs_small"><span >'+I18NHelper["hotel.rooms"]+'</span></td>\t\t\t<td width="50%" align="right">\t\t\t\t<table class="clsAddAndSub" >\t\t\t\t\t<tr>\t\t\t\t\t\t<td onClick="subQuantity(2)" width="50px" height="100%" align="center" valign="middle"><img id="roomSubImg" src="'+
GLOBAL_sharedImageUrl+'subtract_icon_unfocused.png" class="clsAddSubSyle" /></td>\t\t\t\t\t\t<td id="roomQuantity" width="40px" height="100%" align="center" valign="middle" class="fs_small bold clsFontColor_gray">1</td>\t\t\t\t\t\t<td onClick="addQuantity(2)" width="50px" height="100%" align="center" valign="middle"><img id="roomAddImg" src="'+GLOBAL_sharedImageUrl+'plus_icon_unfocused.png" class="clsAddSubSyle" /></td>\t\t\t\t\t</tr>\t\t\t\t</table>\t\t\t</td>\t\t</tr>\t</table>\t<table class="clsConfigRow clsBottomItemRadius fs_small clsFontColor_gray bold">\t\t<tr>\t\t\t<td width="50%" class="clsContentWrapper fs_small" align="left"><span>'+
I18NHelper["hotel.guests"]+'</span></td>\t\t\t<td width="50%" align="right">\t\t\t\t<table class="clsAddAndSub" >\t\t\t\t\t<tr>\t\t\t\t\t\t<td onClick="subQuantity(3)" width="50px" height="100%" align="center" valign="middle"><img id="guestSubImg" src="'+GLOBAL_sharedImageUrl+'subtract_icon_unfocused.png" class="clsAddSubSyle" /></td>\t\t\t\t\t\t<td id="guestQuantity" width="40px" height="100%" align="center" valign="middle" class="fs_small bold clsFontColor_gray">1</td>\t\t\t\t\t\t<td onClick="addQuantity(3)" width="50px" height="100%" align="center" valign="middle"><img id="guestAddImg" src="'+
GLOBAL_sharedImageUrl+'plus_icon_unfocused.png" class="clsAddSubSyle" /></td>\t\t\t\t\t</tr>\t\t\t\t</table>\t\t\t</td>\t\t</tr>\t</table></div><table class="clsSearchBar">\t<tr valign="middle">\t\t<td align="center" valign="middle" width="100%" height="100%">\t\t\t<div class="clsButtonWrapper">\t\t\t\t<table id="searchButton" class="clsBtnSkeleton clsLargeRadius clsbtnfontnormal fs_veryLarge clsButtonBgNormal"\t\t\t\t\tonTouchStart="changeCSS(this,\'clsBtnSkeleton clsLargeRadius clsFontColor_white fs_veryLarge clsButtonBgHighlight\')"\t\t\t\t\tonTouchEnd="changeCSS(this,\'clsBtnSkeleton clsLargeRadius clsbtnfontnormal fs_veryLarge clsButtonBgNormal\')" onclick="findRooms()">\t\t\t\t\t<tr><td align="center" class="fs_veryLarge">'+
I18NHelper["hotel.search"]+"</td></tr>\t\t\t\t</table>\t\t\t</div>\t\t</td>\t</tr></table>";b.innerHTML=c}var GLOBAL_isHotelDetailLoaded=false;writeHtml();function Slider(){}
Slider.prototype={btnPrev:"#sliderPre",btnNext:"#sliderNext",speed:500,easing:null,visible:4,start:0,scrollNo:1,hasNext:true,hasPre:false,itemLength:0,animCss:"left",sizeCss:"width",liSize:0,running:false,onClickImage:function(a){if(a<=this.start+1)return this.pre();else if(a>=this.start+this.visible-2)return this.next()},pre:function(){console.log("this.start="+this.start+" -  "+this.scrollNo);return this.go(0,this.start-this.scrollNo)},next:function(){console.log("this.start="+this.start+" +  "+
this.scrollNo);return this.go(1,this.start+this.scrollNo)},setRunning:function(a){this.running=a},go:function(a,b){console.log("Go : "+b);console.log("Before Go, is Running?"+this.running);if(this.running){console.log("Is Running, no use");return false}else{switch(a){case 0:if(this.hasPre==false)return;break;case 1:if(this.hasNext==false)return}if(b<0||b>this.itemLength-this.v)console.log("can't go");else{console.log("set Curr to"+b);this.start=this.curr=b;console.log("after set: ");console.log("this.start="+
this.start+" -  "+this.scrollNo);console.log("isRunning: "+this.running);this.running=true;Animate("sliderUL").animate({left:-(this.curr*this.liSize)},this.speed,this.easing,function(){});this.running=false;console.log("this.curr - this.scrollNo:"+(this.curr-this.scrollNo));console.log("this.curr + this.scrollNo:"+(this.curr+this.scrollNo)+"  this.itemLength - this.v"+(this.itemLength-this.visible));this.hasPre=this.curr-this.scrollNo<0?false:true;this.hasNext=this.curr+this.scrollNo>this.itemLength-
this.visible?false:true}}},init:function(){$(".imageSlider");$("#sliderUL");$(".sliderLI");var a=this.visible,b=$(".sliderLI");this.itemLength=b.length;var c=this.start;$(".imageSlider").css("visibility","visible");$(".sliderLI").css({overflow:"hidden","float":"left"});$("#sliderUL").css({margin:"0",padding:"0",position:"relative","list-style-type":"none","z-index":"1"});$(".imageSlider").css({overflow:"hidden",position:"relative","z-index":"2",left:"0px"});this.liSize=width($(".sliderLI"));console.log("this.liSize"+
this.liSize);var d=this.liSize*this.itemLength;a*=this.liSize;$(".sliderLI").css({width:b.width(),height:b.height()});$("#sliderUL").css(this.sizeCss,d+"px");$("#sliderUL").css(this.animCss,-(c*this.liSize));$(".imageSlider").css(this.sizeCss,a+"px")}};function getCssValue(a,b){return parseInt($.css(a[0],b))||0}function width(a){return a[0].offsetWidth+a[0].style.marginLeft+a[0].style.marginRight}function height(a){return a[0].offsetHeight+a[0].style.marginTop+a[0].style.marginBottom}
var Animate=function(a){var b=document.getElementById(a),c=j=0,d,f={};f.execution=function(e,g,h){var k=(new Date).getTime(),l=h||500,m=parseInt(b.style[e])||0,o=g-m;(function(){var n=(new Date).getTime()-k;if(n>l){n=l;var q=b.style,p=n;n=-o*(p/=l)*(p-2)+m;q[e]=n+"px";++c==j&&d&&d.apply(b);return f}q=b.style;p=n;n=-o*(p/=l)*(p-2)+m;q[e]=n+"px";setTimeout(arguments.callee,10)})()};f.animate=function(e,g,h){d=h;for(var k in e){j++;f.execution(k,parseInt(e[k]),g)}};return f},SLIDER=new Slider;
